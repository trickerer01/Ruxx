# coding=UTF-8
"""
Author: trickerer (https://github.com/trickerer, https://github.com/trickerer01)
"""
#########################################
#
#

# native
from base64 import b64decode
from json import loads
from re import fullmatch as re_fullmatch, sub as re_sub
from typing import Pattern, Dict, List

# internal
from app_gui_defines import UNDERSCORE
from app_re import re_replace_symbols, re_tags_exclude_major1, re_tags_exclude_major2, re_numbered_or_counted_tag
from app_utils import trim_undersores

__all__ = ('append_filtered_tags',)


TAG_ALIASES_STR = (
    'eyJidW5ueV9ib3kiOiAiMStib3lzIiwgIm1hbGUiOiAiMStib3lzIiwgIm1hbGVfc29sbyI6ICIxK2JveXMiLCAibWFsZWRvbSI6ICIxK2JveXMiLCAibWFsZXN1YiI6ICIxK2'
    'JveXMiLCAibW9uc3Rlcl9ib3kiOiAiMStib3lzIiwgIm9yY19tYWxlIjogIjErYm95cyIsICIxMDFfZGFsbWF0aWFuX3N0cmVldCI6ICIxMDFfZGFsbWF0aWFucyIsICIybWFs'
    'ZSI6ICIyYm95cyIsICIybWFsZXMiOiAiMmJveXMiLCAiM21hbGUiOiAiM2JveXMiLCAiNjlfcG9zZSI6ICI2OSIsICI2OV9wb3NpdGlvbiI6ICI2OSIsICI2OV9zdGFuZGluZy'
    'I6ICI2OSIsICJzdGFuZGluZ182OSI6ICI2OSIsICJ4ZW5vbW9ycGgiOiAiYWxpZW4iLCAiYW5hbF9zZXgiOiAiYW5hbCIsICJhbmFsaW5ndXMiOiAiYW5hbCIsICJhbmlsaW5n'
    'dXMiOiAiYW5hbCIsICJyZWN0dW0iOiAiYW5hbCIsICJzc2JidyI6ICJiYnciLCAiYmRzbV9jb2xsYXIiOiAiYmRzbSIsICJiZHNtX2dlYXIiOiAiYmRzbSIsICJiZHNtX2hhcm'
    '5lc3MiOiAiYmRzbSIsICJiZHNtX291dGZpdCI6ICJiZHNtIiwgImJkc21fcm9vbSI6ICJiZHNtIiwgImJkc21fc3VpdCI6ICJiZHNtIiwgImJzZG0iOiAiYmRzbSIsICJtYXNv'
    'Y2hpc20iOiAiYmRzbSIsICJtYXNvY2hpc3QiOiAiYmRzbSIsICJhbGxpZ2F0b3IiOiAiYmVhc3QiLCAiYW5pbWFsIjogImJlYXN0IiwgImZlcmFsIjogImJlYXN0IiwgImZlcm'
    'FsX29uX2ZlcmFsIjogImJlYXN0IiwgImZlcmFsX3BlbmV0cmF0ZWQiOiAiYmVhc3QiLCAiZmVyYWxfcGVuZXRyYXRpbmciOiAiYmVhc3QiLCAibWFtbWFsIjogImJlYXN0Iiwg'
    'Im1lcGhpdGlkIjogImJlYXN0IiwgIm9jZWxvdCI6ICJiZWFzdCIsICJwcm9jeW9uaWQiOiAiYmVhc3QiLCAicmVwdGlsZSI6ICJiZWFzdCIsICJyb2RlbnQiOiAiYmVhc3QiLC'
    'AiZWdnX2J1bGdlIjogImJlbGx5X2J1bGdlIiwgInN0b21hY2hfYnVsZ2UiOiAiYmVsbHlfYnVsZ2UiLCAiZmVtYWxlX29uX2ZlcmFsIjogImJlc3RpYWxpdHkiLCAiZmVyYWxf'
    'b25fYW50aHJvIjogImJlc3RpYWxpdHkiLCAiZmVyYWxfb25fZmVtYWxlIjogImJlc3RpYWxpdHkiLCAiZmVyYWxfb25faHVtYW4iOiAiYmVzdGlhbGl0eSIsICJmZXJhbF9vbl'
    '9tYWxlIjogImJlc3RpYWxpdHkiLCAiaHVtYW5fb25fZmVyYWwiOiAiYmVzdGlhbGl0eSIsICJtYWxlX29uX2ZlcmFsIjogImJlc3RpYWxpdHkiLCAiem9vcGhpbGlhIjogImJl'
    'c3RpYWxpdHkiLCAiYmltYm9fYW50aHJvIjogImJpbWJvIiwgImJpbWJvX2JvZHkiOiAiYmltYm8iLCAiYmltYm9fZnV0YW5hcmkiOiAiYmltYm8iLCAiYmltYm9fbGlwIjogIm'
    'JpbWJvIiwgImJpbWJvX2xpcHMiOiAiYmltYm8iLCAiYmltYm9fc3VjY3VidXMiOiAiYmltYm8iLCAiYmltYm9lZCI6ICJiaW1ibyIsICJiaW1ib2ZpY2F0aW9uIjogImJpbWJv'
    'IiwgImJpbWJvZmllZCI6ICJiaW1ibyIsICJiaW1ib3MiOiAiYmltYm8iLCAiYmlrZXN1aXQiOiAiYm9keXN1aXQiLCAiYmlvc3VpdCI6ICJib2R5c3VpdCIsICJiaXRjaF9zdW'
    'l0IjogImJvZHlzdWl0IiwgImJpdGNoc3VpdCI6ICJib2R5c3VpdCIsICJidW5ueV9zdWl0IjogImJvZHlzdWl0IiwgImJ1bm55c3VpdCI6ICJib2R5c3VpdCIsICJjYXRfc3Vp'
    'dCI6ICJib2R5c3VpdCIsICJjYXRzdWl0IjogImJvZHlzdWl0IiwgImdpbXBfc3VpdCI6ICJib2R5c3VpdCIsICJnaW1wc3VpdCI6ICJib2R5c3VpdCIsICJwbHVnX3N1aXQiOi'
    'AiYm9keXN1aXQiLCAicGx1Z3N1aXQiOiAiYm9keXN1aXQiLCAic3dpbV9zdWl0IjogImJvZHlzdWl0IiwgInN3aW1zdWl0IjogImJvZHlzdWl0IiwgInplcm9fc3VpdCI6ICJi'
    'b2R5c3VpdCIsICJ6ZXJvc3VpdCI6ICJib2R5c3VpdCIsICJib3VuZCI6ICJib25kYWdlIiwgImJvdW5kX2FybXMiOiAiYm9uZGFnZSIsICJib3VuZF9mZWV0IjogImJvbmRhZ2'
    'UiLCAiYm91bmRfaGFuZHMiOiAiYm9uZGFnZSIsICJib3VuZF9sZWdzIjogImJvbmRhZ2UiLCAiYm91bmRfbmVjayI6ICJib25kYWdlIiwgImJvdW5kX3BlbmlzIjogImJvbmRh'
    'Z2UiLCAiYm91bmRfdG9fYmVkIjogImJvbmRhZ2UiLCAiYm91bmRfdG9fY2hhaXIiOiAiYm9uZGFnZSIsICJib3VuZF93cmlzdHMiOiAiYm9uZGFnZSIsICJicmVhc3RfYm9uZG'
    'FnZSI6ICJib25kYWdlIiwgImNoYWlyX2JvbmRhZ2UiOiAiYm9uZGFnZSIsICJtdW1taWZpY2F0aW9uIjogImJvbmRhZ2UiLCAibXVtbWlmaWVkIjogImJvbmRhZ2UiLCAicHJl'
    'ZGljYW1lbnRfYm9uZGFnZSI6ICJib25kYWdlIiwgInJlc3RyYWluIjogImJvbmRhZ2UiLCAicmVzdHJhaW5lZCI6ICJib25kYWdlIiwgInJlc3RyYWludCI6ICJib25kYWdlIi'
    'wgInJlc3RyYWludHMiOiAiYm9uZGFnZSIsICJyaWJib25fYm9uZGFnZSI6ICJib25kYWdlIiwgInJvcGVfYm9uZGFnZSI6ICJib25kYWdlIiwgInNoaWJhcmkiOiAiYm9uZGFn'
    'ZSIsICJzdGVlbF9ib25kYWdlIjogImJvbmRhZ2UiLCAic3RyYXBwYWRvIjogImJvbmRhZ2UiLCAic3RyYXBwZWRfZG93biI6ICJib25kYWdlIiwgInN1c3BlbmRlZCI6ICJib2'
    '5kYWdlIiwgInN1c3BlbnNpb24iOiAiYm9uZGFnZSIsICJzdXNwZW5zaW9uX2JvbmRhZ2UiOiAiYm9uZGFnZSIsICJ0YWlsX2JvbmRhZ2UiOiAiYm9uZGFnZSIsICJ0YXBlX2Jv'
    'bmRhZ2UiOiAiYm9uZGFnZSIsICJ3ZWJfYm9uZGFnZSI6ICJib25kYWdlIiwgImJvdmluZSI6ICJib3ZpZCIsICJjYW5pbiI6ICJjYW5pZCIsICJjYW5pbmUiOiAiY2FuaWQiLC'
    'AiY2FuaXMiOiAiY2FuaWQiLCAiY29sbGllIjogImNhbmlkIiwgImRpcmVfd29sZiI6ICJjYW5pZCIsICJkb2Jlcm1hbiI6ICJjYW5pZCIsICJodXNreSI6ICJjYW5pZCIsICJs'
    'YWJyYWRvciI6ICJjYW5pZCIsICJtYWxhbXV0ZSI6ICJjYW5pZCIsICJtYXN0aWZmIjogImNhbmlkIiwgInBpdF9idWxsIjogImNhbmlkIiwgInBpdGJ1bGwiOiAiY2FuaWQiLC'
    'AicG9vZGxlIjogImNhbmlkIiwgInJldHJpZXZlciI6ICJjYW5pZCIsICJzYW1veWVkIjogImNhbmlkIiwgInNwYW5pZWwiOiAiY2FuaWQiLCAid29sZiI6ICJjYW5pZCIsICJ3'
    'b2xmZG9nIjogImNhbmlkIiwgImFiZHVjdGVkIjogImNhcHR1cmVkIiwgImFiZHVjdGlvbiI6ICJjYXB0dXJlZCIsICJhcnJlc3RlZCI6ICJjYXB0dXJlZCIsICJjYWdlZCI6IC'
    'JjYXB0dXJlZCIsICJjYXB0aXZlIjogImNhcHR1cmVkIiwgImNhcHR1cmUiOiAiY2FwdHVyZWQiLCAiY2hhaW5lZCI6ICJjYXB0dXJlZCIsICJkZXRhaW5lZCI6ICJjYXB0dXJl'
    'ZCIsICJqYWlsZWQiOiAiY2FwdHVyZWQiLCAia2lkbmFwIjogImNhcHR1cmVkIiwgImtpZG5hcHBlZCI6ICJjYXB0dXJlZCIsICJraWRuYXBwaW5nIjogImNhcHR1cmVkIiwgIn'
    'NoYWNrbGVkIjogImNhcHR1cmVkIiwgInRyYXBwZWQiOiAiY2FwdHVyZWQiLCAiY2F0Z2lybCI6ICJjYXRfZ2lybCIsICJkZWVyX3RhdXIiOiAiY2VudGF1ciIsICJkZWVydGF1'
    'ciI6ICJjZW50YXVyIiwgImNlcnZpbmUiOiAiY2VydmlkIiwgImJsdWVfY3VtIjogImN1bSIsICJjdW1fYmF0aCI6ICJjdW0iLCAiY3VtX2JlbGx5IjogImN1bSIsICJjdW1fYn'
    'ViYmxlIjogImN1bSIsICJjdW1fYnVja2V0IjogImN1bSIsICJjdW1fY292ZXJlZCI6ICJjdW0iLCAiY3VtX2RyaW5raW5nIjogImN1bSIsICJjdW1fZHJpcCI6ICJjdW0iLCAi'
    'Y3VtX2RyaXBwaW5nIjogImN1bSIsICJjdW1fZmlsbGVkIjogImN1bSIsICJjdW1fZmxvb2QiOiAiY3VtIiwgImN1bV9mcm9tX2FzcyI6ICJjdW0iLCAiY3VtX2Zyb21fcHVzc3'
    'kiOiAiY3VtIiwgImN1bV9nbGF6ZSI6ICJjdW0iLCAiY3VtX2h1bmdyeSI6ICJjdW0iLCAiY3VtX2luX2FudXMiOiAiY3VtIiwgImN1bV9pbl9hc3MiOiAiY3VtIiwgImN1bV9p'
    'bl9jbG90aGVzIjogImN1bSIsICJjdW1faW5fY29uZG9tIjogImN1bSIsICJjdW1faW5fY29udGFpbmVyIjogImN1bSIsICJjdW1faW5faGFpciI6ICJjdW0iLCAiY3VtX2luX2'
    '1vdXRoIjogImN1bSIsICJjdW1faW5fbm9zZSI6ICJjdW0iLCAiY3VtX2luX3B1c3N5IjogImN1bSIsICJjdW1faW5fdGhyb2F0IjogImN1bSIsICJjdW1faW5fdXRlcnVzIjog'
    'ImN1bSIsICJjdW1faW5zaWRlIjogImN1bSIsICJjdW1famFyIjogImN1bSIsICJjdW1fa2lzcyI6ICJjdW0iLCAiY3VtX2xlYWsiOiAiY3VtIiwgImN1bV9sZWFraW5nIjogIm'
    'N1bSIsICJjdW1fbGljayI6ICJjdW0iLCAiY3VtX21pbGtpbmciOiAiY3VtIiwgImN1bV9vbl9hc3MiOiAiY3VtIiwgImN1bV9vbl9iYWxscyI6ICJjdW0iLCAiY3VtX29uX2Jv'
    'ZHkiOiAiY3VtIiwgImN1bV9vbl9icmVhc3RzIjogImN1bSIsICJjdW1fb25fYnV0dCI6ICJjdW0iLCAiY3VtX29uX2NoZXN0IjogImN1bSIsICJjdW1fb25fY2xvdGhlcyI6IC'
    'JjdW0iLCAiY3VtX29uX2ZhY2UiOiAiY3VtIiwgImN1bV9vbl9mZWV0IjogImN1bSIsICJjdW1fb25fZ3JvdW5kIjogImN1bSIsICJjdW1fb25faGFpciI6ICJjdW0iLCAiY3Vt'
    'X29uX2hhbmQiOiAiY3VtIiwgImN1bV9vbl9sZWciOiAiY3VtIiwgImN1bV9vbl9wZW5pcyI6ICJjdW0iLCAiY3VtX29uX3NlbGYiOiAiY3VtIiwgImN1bV9vbl9zdG9tYWNoIj'
    'ogImN1bSIsICJjdW1fb25fdG9uZ3VlIjogImN1bSIsICJjdW1fcG9vbCI6ICJjdW0iLCAiY3VtX3B1ZGRsZSI6ICJjdW0iLCAiY3VtX3JpbmciOiAiY3VtIiwgImN1bV9zaG90'
    'IjogImN1bSIsICJjdW1fc3BhdHRlciI6ICJjdW0iLCAiY3VtX3NxdWlydCI6ICJjdW0iLCAiY3VtX3N0YWluIjogImN1bSIsICJjdW1fc3RyYW5kIjogImN1bSIsICJjdW1fc3'
    'RyaW5nIjogImN1bSIsICJjdW1fc3dhbGxvdyI6ICJjdW0iLCAiY3VtX3N3YXAiOiAiY3VtIiwgImN1bWRyaXAiOiAiY3VtIiwgImN1bWR1bXAiOiAiY3VtIiwgImN1bWx1YmUi'
    'OiAiY3VtIiwgImN1bW1pbmciOiAiY3VtIiwgImN1bXBvb2wiOiAiY3VtIiwgImN1bXNlYSI6ICJjdW0iLCAiY3Vtc2hvdCI6ICJjdW0iLCAiY3Vtc2x1dCI6ICJjdW0iLCAiY3'
    'Vtc3RyaW5nIjogImN1bSIsICJncmVlbl9jdW0iOiAiY3VtIiwgInByZWN1bSI6ICJjdW0iLCAidGhpY2tfY3VtIjogImN1bSIsICJoYW5hX3NvbmciOiAiZC52YSIsICJkYW5n'
    'YW5yb25wYV92MyI6ICJkYW5nYW5yb25wYSIsICJuZXdfZGFuZ2Fucm9ucGFfdjMiOiAiZGFuZ2Fucm9ucGEiLCAic3VwZXJfZGFuZ2Fucm9ucGFfMiI6ICJkYW5nYW5yb25wYS'
    'IsICJkcm93X2VsZiI6ICJkYXJrX2VsZiIsICJkdW5tZXIiOiAiZGFya19lbGYiLCAiZHVubWVyX2VsZiI6ICJkYXJrX2VsZiIsICJkZWFkIjogImRlYXRoIiwgInJvZV9kZWVy'
    'IjogImRlZXIiLCAiZGVsdGFydW5lX2NoYXB0ZXJfMSI6ICJkZWx0YXJ1bmUiLCAiZGVsdGFydW5lX2NoYXB0ZXJfMiI6ICJkZWx0YXJ1bmUiLCAiZGVsdGFydW5lX2NoYXB0ZX'
    'JfMyI6ICJkZWx0YXJ1bmUiLCAiZGVtb25fYm95IjogImRlbW9uIiwgImRlbW9uX2h1bWFub2lkIjogImRlbW9uIiwgImRlbW9ucyI6ICJkZW1vbiIsICJkZXZpbCI6ICJkZW1v'
    'biIsICJkZXZpbF9naXJsIjogImRlbW9uIiwgImVyZWRhciI6ICJkZW1vbiIsICJkZW1vbl9naXJsIjogImRlbW9uZXNzIiwgImRlbW9uX2dpcmxzIjogImRlbW9uZXNzIiwgIm'
    'RlbW9uZ2lybCI6ICJkZW1vbmVzcyIsICJkZW1vbmdpcmxzIjogImRlbW9uZXNzIiwgImRlcnBfZXllcyI6ICJkZXJwIiwgImRvZ2dpcmwiOiAiZG9nX2dpcmwiLCAiZHdhcmZf'
    'ZmVtYWxlIjogImR3YXJmIiwgImVlbF9pbl9hc3MiOiAiZWVsIiwgImVlbF9pbl9wdXNzeSI6ICJlZWwiLCAiZWVsX2luX3VyZXRocmEiOiAiZWVsIiwgImVlbF9pbnNlcnRpb2'
    '4iOiAiZWVsIiwgImVnZ19iaXJ0aCI6ICJlZ2ciLCAiZWdnX2Zyb21fYXNzIjogImVnZyIsICJlZ2dfZnJvbV9tb3V0aCI6ICJlZ2ciLCAiZWdnX2Zyb21fcHVzc3kiOiAiZWdn'
    'IiwgImVnZ19pbXBsYW50YXRpb24iOiAiZWdnIiwgImVnZ19pbl9hc3MiOiAiZWdnIiwgImVnZ19pbl9tb3V0aCI6ICJlZ2ciLCAiZWdnX2luX3B1c3N5IjogImVnZyIsICJlZ2'
    'dfaW5zZXJ0aW9uIjogImVnZyIsICJlZ2dfbGF5aW5nIjogImVnZyIsICJlZ2duYW50IjogImVnZyIsICJlZ2dzX2luX3N0b21hY2giOiAiZWdnIiwgIm9yYWxfZWdnX2ltcGxh'
    'bnRhdGlvbiI6ICJlZ2ciLCAiZWx2ZXMiOiAiZWxmIiwgImhpZ2hfZWxmIjogImVsZiIsICJ3b29kX2VsZiI6ICJlbGYiLCAiZXF1aW5lIjogImVxdWlkIiwgImZhY2Vfc2l0dG'
    'luZyI6ICJmYWNlc2l0dGluZyIsICJmYWNlc2l0IjogImZhY2VzaXR0aW5nIiwgImZhY2VzaXR0aW5nX3BvdiI6ICJmYWNlc2l0dGluZyIsICJjdW1fZmFydCI6ICJmYXJ0Iiwg'
    'ImZhY2VfZmFydCI6ICJmYXJ0IiwgImZhY2VmYXJ0IjogImZhcnQiLCAiZmFydF9jbG91ZCI6ICJmYXJ0IiwgImZhcnRfZmV0aXNoIjogImZhcnQiLCAiZmFydF9pbl9mYWNlIj'
    'ogImZhcnQiLCAiZmFydF9pbl9tb3V0aCI6ICJmYXJ0IiwgImZhcnRfb25fZGljayI6ICJmYXJ0IiwgImZhcnRfb25fZmFjZSI6ICJmYXJ0IiwgImZhcnRfc25pZmZpbmciOiAi'
    'ZmFydCIsICJmYXJ0aW5nX2luX2ZhY2UiOiAiZmFydCIsICJmYXJ0aW5nX2luX21vdXRoIjogImZhcnQiLCAiZmFydGluZ19vbl9mYWNlIjogImZhcnQiLCAiZmFydGpvYiI6IC'
    'JmYXJ0IiwgImZhcnRzIjogImZhcnQiLCAiZmVsaW5lIjogImZlbGlkIiwgImZlbGlzIjogImZlbGlkIiwgImZlbWJveXN1YiI6ICJmZW1ib3kiLCAiYW5hbF9maXN0aW5nIjog'
    'ImZpc3RpbmciLCAiYXV0b2Zpc3RpbmciOiAiZmlzdGluZyIsICJkZWVwX2Zpc3RpbmciOiAiZmlzdGluZyIsICJkb3VibGVfZmlzdGluZyI6ICJmaXN0aW5nIiwgInNlbGZfZm'
    'lzdGluZyI6ICJmaXN0aW5nIiwgInZhZ2luYWxfZmlzdGluZyI6ICJmaXN0aW5nIiwgImZveGdpcmwiOiAiZm94X2dpcmwiLCAiYmxhY2tfZnVyIjogImZ1ciIsICJibHVlX2Z1'
    'ciI6ICJmdXIiLCAiYm9keV9mdXIiOiAiZnVyIiwgImJyb3duX2Z1ciI6ICJmdXIiLCAiZGFya19mdXIiOiAiZnVyIiwgImdyYXlfZnVyIjogImZ1ciIsICJncmVlbl9mdXIiOi'
    'AiZnVyIiwgImdyZXlfZnVyIjogImZ1ciIsICJvcmFuZ2VfZnVyIjogImZ1ciIsICJwaW5rX2Z1ciI6ICJmdXIiLCAicHVycGxlX2Z1ciI6ICJmdXIiLCAicmVkX2Z1ciI6ICJm'
    'dXIiLCAidGFuX2Z1ciI6ICJmdXIiLCAid2V0X2Z1ciI6ICJmdXIiLCAid2hpdGVfZnVyIjogImZ1ciIsICJ5ZWxsb3dfZnVyIjogImZ1ciIsICJhbnRocm9fZm9jdXMiOiAiZn'
    'VycnkiLCAiYW50aHJvX29uX2FudGhybyI6ICJmdXJyeSIsICJhbnRocm9fb25fZmVyYWwiOiAiZnVycnkiLCAiYW50aHJvX29ubHkiOiAiZnVycnkiLCAiZnVycmVkX2RyYWdv'
    'biI6ICJmdXJyeSIsICJmdXJyaWZpY2F0aW9uIjogImZ1cnJ5IiwgImZ1cnJ5X2FzcyI6ICJmdXJyeSIsICJmdXJyeV9icmVhc3RzIjogImZ1cnJ5IiwgImZ1cnJ5X2VhcnMiOi'
    'AiZnVycnkiLCAiZnVycnlfZmVtYWxlIjogImZ1cnJ5IiwgImZ1cnJ5X2ludGVyc2V4IjogImZ1cnJ5IiwgImZ1cnJ5X21hbGUiOiAiZnVycnkiLCAiZnVycnlfb25seSI6ICJm'
    'dXJyeSIsICJmdXJyeV90YWlsIjogImZ1cnJ5IiwgImZ1cnJ5ZmljYXRpb24iOiAiZnVycnkiLCAibWFtbWFsX2h1bWFub2lkIjogImZ1cnJ5IiwgInNjYWxpZSI6ICJmdXJyeS'
    'IsICJzZXh5ZnVyIjogImZ1cnJ5IiwgIndvcmdlbiI6ICJmdXJyeSIsICJ5aWZmIjogImZ1cnJ5IiwgInlpZmZpbmciOiAiZnVycnkiLCAiZnV0YV93aXRoX21hbGUiOiAiZnV0'
    'YV9vbl9tYWxlIiwgImZ1dGFuYXJpL21hbGUiOiAiZnV0YV9vbl9tYWxlIiwgImRlbW9uX2Z1dGEiOiAiZnV0YW5hcmkiLCAiZWxmX2Z1dGEiOiAiZnV0YW5hcmkiLCAiZnV0YS'
    '9jdW50Ym95IjogImZ1dGFuYXJpIiwgImZ1dGEvZmVtYWxlIjogImZ1dGFuYXJpIiwgImZ1dGEvZmVtYm95IjogImZ1dGFuYXJpIiwgImZ1dGEvZnV0YSI6ICJmdXRhbmFyaSIs'
    'ICJmdXRhL21hbGUiOiAiZnV0YW5hcmkiLCAiZnV0YV8iOiAiZnV0YW5hcmkiLCAiZnV0YV9iYWxscyI6ICJmdXRhbmFyaSIsICJmdXRhX2NvY2siOiAiZnV0YW5hcmkiLCAiZn'
    'V0YV9mb2N1cyI6ICJmdXRhbmFyaSIsICJmdXRhX2dpYW50ZXNzIjogImZ1dGFuYXJpIiwgImZ1dGFfaXNfYmlnZ2VyIjogImZ1dGFuYXJpIiwgImZ1dGFfaXNfc21hbGxlciI6'
    'ICJmdXRhbmFyaSIsICJmdXRhX21pbGYiOiAiZnV0YW5hcmkiLCAiZnV0YV9vbl9mZW1hbGUiOiAiZnV0YW5hcmkiLCAiZnV0YV9vbl9mdXRhIjogImZ1dGFuYXJpIiwgImZ1dG'
    'Ffb25fdG9wIjogImZ1dGFuYXJpIiwgImZ1dGFfb25seSI6ICJmdXRhbmFyaSIsICJmdXRhX3BvdiI6ICJmdXRhbmFyaSIsICJmdXRhX3NhbnNfYmFsbHMiOiAiZnV0YW5hcmki'
    'LCAiZnV0YV9zYW5zX3B1c3N5IjogImZ1dGFuYXJpIiwgImZ1dGFfc29sbyI6ICJmdXRhbmFyaSIsICJmdXRhX3N1YiI6ICJmdXRhbmFyaSIsICJmdXRhX3dpZmUiOiAiZnV0YW'
    '5hcmkiLCAiZnV0YV93aXRoX2ZlbWFsZSI6ICJmdXRhbmFyaSIsICJmdXRhX3dpdGhfZmVtYm95IjogImZ1dGFuYXJpIiwgImZ1dGFfd2l0aF9mdXRhIjogImZ1dGFuYXJpIiwg'
    'ImZ1dGFkb20iOiAiZnV0YW5hcmkiLCAiZnV0YW5hcmkvY3VudGJveSI6ICJmdXRhbmFyaSIsICJmdXRhbmFyaS9mZW1hbGUiOiAiZnV0YW5hcmkiLCAiZnV0YW5hcmkvZmVtYm'
    '95IjogImZ1dGFuYXJpIiwgImZ1dGFuYXJpL2Z1dGEiOiAiZnV0YW5hcmkiLCAiZnV0YW5hcmlfcGVuZXRyYXRlZCI6ICJmdXRhbmFyaSIsICJmdXRhbmFyaV9wZW5ldHJhdGlu'
    'ZyI6ICJmdXRhbmFyaSIsICJmdXRhbmFyaV9wb3YiOiAiZnV0YW5hcmkiLCAiZnV0YW5hcmlfdHJhbnNmb3JtYXRpb24iOiAiZnV0YW5hcmkiLCAiZnV0YW5hcml6YXRpb24iOi'
    'AiZnV0YW5hcmkiLCAiZnV0YXN1YiI6ICJmdXRhbmFyaSIsICJtaW5pZnV0YSI6ICJmdXRhbmFyaSIsICJzb2xlX2Z1dGEiOiAiZnV0YW5hcmkiLCAic29sb19mdXRhIjogImZ1'
    'dGFuYXJpIiwgImJhbGxfZ2FnIjogImdhZyIsICJiYWxsZ2FnIjogImdhZyIsICJiYW1ib29fZ2FnIjogImdhZyIsICJiaXRfZ2FnIjogImdhZyIsICJiaXRlX2dhZyI6ICJnYW'
    'ciLCAiYmxhY2tfYmFsbF9nYWciOiAiZ2FnIiwgImJsdWVfYmFsbF9nYWciOiAiZ2FnIiwgImJvbmVfZ2FnIjogImdhZyIsICJjbGVhdmVfZ2FnIjogImdhZyIsICJjbG90aF9n'
    'YWciOiAiZ2FnIiwgImNvY2tfZ2FnIjogImdhZyIsICJkZW50YWxfZ2FnIjogImdhZyIsICJkaWxkb19nYWciOiAiZ2FnIiwgImdhZ19iYWxsIjogImdhZyIsICJnYWdfYm9uZG'
    'FnZSI6ICJnYWciLCAiZ2FnX2hhcm5lc3MiOiAiZ2FnIiwgImdhZ19tYXNrIjogImdhZyIsICJnYWdnZWQiOiAiZ2FnIiwgImdhZ2dpbmciOiAiZ2FnIiwgImhhbmRnYWciOiAi'
    'Z2FnIiwgImhhcm5lc3NfYmFsbF9nYWciOiAiZ2FnIiwgImhhcm5lc3NfYml0X2dhZyI6ICJnYWciLCAiaGFybmVzc19iaXRlX2dhZyI6ICJnYWciLCAiaGFybmVzc19nYWciOi'
    'AiZ2FnIiwgImhhcm5lc3NfcmluZ19nYWciOiAiZ2FnIiwgImltcHJvdmlzZWRfZ2FnIjogImdhZyIsICJtb3V0aF9nYWciOiAiZ2FnIiwgIm11enpsZV9nYWciOiAiZ2FnIiwg'
    'Im9uYWhvbGVfZ2FnIjogImdhZyIsICJvcGVuX21vdXRoX2dhZyI6ICJnYWciLCAib3RtX2dhZyI6ICJnYWciLCAib3Zlcl90aGVfbW91dGhfZ2FnIjogImdhZyIsICJvdmVyX3'
    'RoZV9ub3NlX2dhZyI6ICJnYWciLCAicGFuZWxfZ2FnIjogImdhZyIsICJwYW50eV9nYWciOiAiZ2FnIiwgInBpbmtfYmFsbF9nYWciOiAiZ2FnIiwgInBsdWdfZ2FnIjogImdh'
    'ZyIsICJwdXJwbGVfYmFsbF9nYWciOiAiZ2FnIiwgInJlZF9iYWxsX2dhZyI6ICJnYWciLCAicmluZ19nYWciOiAiZ2FnIiwgInJvcGVfZ2FnIjogImdhZyIsICJyb3BlZ2FnIj'
    'ogImdhZyIsICJzaGFyZWRfZ2FnIjogImdhZyIsICJzdHVmZmVkX21vdXRoX2dhZyI6ICJnYWciLCAidGFwZV9nYWciOiAiZ2FnIiwgInRlbnRhY2xlX2dhZyI6ICJnYWciLCAi'
    'd2ViX2dhZyI6ICJnYWciLCAid2hpdGVfYmFsbF9nYWciOiAiZ2FnIiwgImdhbmdfYmFuZyI6ICJnYW5nYmFuZyIsICJnYW5nX3JhcGUiOiAiZ2FuZ2JhbmciLCAiZ2FuZ3JhcG'
    'UiOiAiZ2FuZ2JhbmciLCAiYW5hbF9nYXBlIjogImdhcGUiLCAiYmlnX2dhcGUiOiAiZ2FwZSIsICJnYXBpbmciOiAiZ2FwZSIsICJnYXBpbmdfYW51cyI6ICJnYXBlIiwgImdh'
    'cGluZ19hc3MiOiAiZ2FwZSIsICJnYXBpbmdfY2xvYWNhIjogImdhcGUiLCAiZ2FwaW5nX25pcHBsZSI6ICJnYXBlIiwgImdhcGluZ19uaXBwbGVzIjogImdhcGUiLCAiZ2FwaW'
    '5nX3B1c3l5IjogImdhcGUiLCAiZ2FwaW5nX3VyZXRocmEiOiAiZ2FwZSIsICJodWdlX2dhcGUiOiAiZ2FwZSIsICJiYXJhIjogImdheSIsICJiYXJhX3RpZGRpZXMiOiAiZ2F5'
    'IiwgImJhcmFfdGl0cyI6ICJnYXkiLCAiYmFyYWthIjogImdheSIsICJiYXJha2luZyI6ICJnYXkiLCAiYmFyYWx1c3QiOiAiZ2F5IiwgImJhcmFzdWlzaG91IjogImdheSIsIC'
    'JiYXJheW90IjogImdheSIsICJiYXJhem9rdSI6ICJnYXkiLCAiYmlzZXh1YWxfbWFsZSI6ICJnYXkiLCAiZ2F5X2FuYWxfbWFzdHVyYmF0aW9uIjogImdheSIsICJnYXlfYmFy'
    'IjogImdheSIsICJnYXlfYmVhciI6ICJnYXkiLCAiZ2F5X2Jsb3dqb2IiOiAiZ2F5IiwgImdheV9kZW5pYWwiOiAiZ2F5IiwgImdheV9kb2NraW5nIjogImdheSIsICJnYXlfZG'
    '9taW5hdGlvbiI6ICJnYXkiLCAiZ2F5X2hhbmRqb2IiOiAiZ2F5IiwgImdheV9oYXJlbSI6ICJnYXkiLCAiZ2F5X29yZ3kiOiAiZ2F5IiwgImdheV9wb3Juc3RhciI6ICJnYXki'
    'LCAiZ2F5X3ByaWRlIjogImdheSIsICJnYXlfcHJpZGVfY29sb3JzIjogImdheSIsICJnYXlfc2V4IjogImdheSIsICJnYXlfc291bmQiOiAiZ2F5IiwgImdheV90b19zdHJhaW'
    'dodCI6ICJnYXkiLCAiZ2F5X3dpdGhfd29tYW4iOiAiZ2F5IiwgImdheV93cmVzdGxpbmciOiAiZ2F5IiwgImdheXRvciI6ICJnYXkiLCAibWVuX2tpc3NpbmciOiAiZ2F5Iiwg'
    'ImdpcmFmZmUiOiAiZ2lyYWZmaWQiLCAiZ2xwcnlfaG9sZSI6ICJnbG9yeWhvbGUiLCAiZ29vZ2lybCI6ICJnb29fZ2lybCIsICJzbGltZV9naXJsIjogImdvb19naXJsIiwgIn'
    'NsaW1lZ2lybCI6ICJnb29fZ2lybCIsICJnb3RoaWZpZWQiOiAiZ290aCIsICJtYXJlIjogImhvcnNlIiwgInBvbnkiOiAiaG9yc2UiLCAic3RhbGxpb24iOiAiaG9yc2UiLCAi'
    'aHllbmEiOiAiaHlhZW5pZCIsICJpZ3VhbmEiOiAiaWd1YW5pZCIsICJjbG9uZWNlc3QiOiAiaW5jZXN0IiwgImltcGxpZWRfaW5jZXN0IjogImluY2VzdCIsICJtb21jZXN0Ij'
    'ogImluY2VzdCIsICJzZWxmY2VzdCI6ICJpbmNlc3QiLCAidHdpbmNlc3QiOiAiaW5jZXN0IiwgImN1bV9pbmZsYXRpb24iOiAiaW5mbGF0aW9uIiwgImN1bWZsYXRpb24iOiAi'
    'aW5mbGF0aW9uIiwgImVnZ19pbmZsYXRpb24iOiAiaW5mbGF0aW9uIiwgInNsaW1lX2luZmxhdGlvbiI6ICJpbmZsYXRpb24iLCAiaW5qdXJlIjogImluanVyeSIsICJpbmp1cm'
    'VkIjogImluanVyeSIsICJpbmp1cmVzIjogImluanVyeSIsICJhcmFjaG5pZCI6ICJpbnNlY3QiLCAiYXJ0aHJvcG9kIjogImluc2VjdCIsICJiZWUiOiAiaW5zZWN0IiwgImJl'
    'ZXMiOiAiaW5zZWN0IiwgImNlbnRpcGVkZSI6ICJpbnNlY3QiLCAiY29ja3JvYXNoIjogImluc2VjdCIsICJlYXJ0aHdvcm0iOiAiaW5zZWN0IiwgImdhc3Ryb3BvZCI6ICJpbn'
    'NlY3QiLCAiaG9ybmV0IjogImluc2VjdCIsICJpbnNlY3RvaWQiOiAiaW5zZWN0IiwgImxlZWNoIjogImluc2VjdCIsICJsZWVjaGVzIjogImluc2VjdCIsICJsb2N1c3QiOiAi'
    'aW5zZWN0IiwgImxvY3VzdHMiOiAiaW5zZWN0IiwgIm1hZ2dvdCI6ICJpbnNlY3QiLCAibWFnZ290cyI6ICJpbnNlY3QiLCAibWFudGlzIjogImluc2VjdCIsICJtb3NxdWl0by'
    'I6ICJpbnNlY3QiLCAibW90aCI6ICJpbnNlY3QiLCAicXVlZW5fYmVlIjogImluc2VjdCIsICJzcGlkZXIiOiAiaW5zZWN0IiwgInRhcmFudHVsYSI6ICJpbnNlY3QiLCAidmVz'
    'cGlkIjogImluc2VjdCIsICJ3YXNwIjogImluc2VjdCIsICJ3YXNwcyI6ICJpbnNlY3QiLCAid29ybSI6ICJpbnNlY3QiLCAid29ybXMiOiAiaW5zZWN0IiwgImthaV9zYSI6IC'
    'JrYWlzYSIsICJibGFja19sYXRleCI6ICJsYXRleCIsICJsYXRleF9ib2R5c3VpdCI6ICJsYXRleCIsICJsYXRleF9jbG90aGluZyI6ICJsYXRleCIsICJsYXRleF9kcmVzcyI6'
    'ICJsYXRleCIsICJsYXRleF9nbG92ZXMiOiAibGF0ZXgiLCAibGF0ZXhfbGVnZ2luZ3MiOiAibGF0ZXgiLCAibGF0ZXhfbGVnd2VhciI6ICJsYXRleCIsICJsYXRleF9zdG9ja2'
    'luZ3MiOiAibGF0ZXgiLCAibGF0ZXhfc3VpdCI6ICJsYXRleCIsICJsYXRleF90aGlnaGhpZ2h0cyI6ICJsYXRleCIsICJydWJiZXIiOiAibGF0ZXgiLCAicnViYmVyX2Jvb3Rz'
    'IjogImxhdGV4IiwgInJ1YmJlcl9jbG90aGluZyI6ICJsYXRleCIsICJydWJiZXJfZ2xvdmVzIjogImxhdGV4IiwgInJ1YmJlcl9zdWl0IjogImxhdGV4IiwgImxlemRvbSI6IC'
    'JsZXNiaWFuIiwgImxlenN1YiI6ICJsZXNiaWFuIiwgInl1cmkiOiAibGVzYmlhbiIsICJsaW9uZXNzIjogImxpb24iLCAibWFyaW9fZ29sZiI6ICJtYXJpbyIsICJtYXJpb19r'
    'YXJ0IjogIm1hcmlvIiwgIm1hcmlvX3BhcnR5IjogIm1hcmlvIiwgIm1hcmlvX3Rlbm5pcyI6ICJtYXJpbyIsICJwYXBlcl9tYXJpbyI6ICJtYXJpbyIsICJzdXBlcl9tYXJpby'
    'I6ICJtYXJpbyIsICJzdXBlcl9tYXJpb182NCI6ICJtYXJpbyIsICJteV9saXR0bGVfcG9ueSI6ICJtbHAiLCAibXlfbGl0dGxlX3BvbnlfZnJpZW5kc2hpcF9pc19tYWdpYyI6'
    'ICJtbHAiLCAibXlfbGl0dGxlX3BvbnlfdGhlX21vdmllIjogIm1scCIsICJnYXJnb3lsZSI6ICJtb25zdGVyIiwgImdhcmdveWxlcyI6ICJtb25zdGVyIiwgIm1vdXNlZ2lybC'
    'I6ICJtb3VzZV9naXJsIiwgIm11c3RlbGEiOiAibXVzdGVsaWQiLCAibXVzdGVsaW5lIjogIm11c3RlbGlkIiwgIm5hcnV0bzpfdGhlX2xhc3QiOiAibmFydXRvIiwgIm5hcnV0'
    'b19ib21iIjogIm5hcnV0byIsICJuYXJ1dG9fc2hpcHB1bmRlbiI6ICJuYXJ1dG8iLCAibmllcjpfYXV0b21hdGEiOiAibmllciIsICJuaWVyX3JlcGxpY2FudCI6ICJuaWVyIi'
    'wgImthbGRvcmVpIjogIm5pZ2h0X2VsZiIsICJudW1idWhfNSI6ICJudW1iYWhfNSIsICJibG93am9iIjogIm9yYWwiLCAiZmFjZV9mdWNrIjogIm9yYWwiLCAiZmFjZV9mdWNr'
    'aW5nIjogIm9yYWwiLCAiZmFjZWZ1Y2siOiAib3JhbCIsICJmZWxsYXRpbyI6ICJvcmFsIiwgIm9yYWxfY3JlYW1waWUiOiAib3JhbCIsICJvcmFsX2luc2VydGlvbiI6ICJvcm'
    'FsIiwgIm9yYWxfa25vdHRpbmciOiAib3JhbCIsICJvcmFsX21hc3R1cmJhdGlvbiI6ICJvcmFsIiwgIm9yYWxfcGVuZXRyYXRpb24iOiAib3JhbCIsICJvcmFsX3JhcGUiOiAi'
    'b3JhbCIsICJvcmFsX3NleCI6ICJvcmFsIiwgInNwaXRyb2FzdCI6ICJvcmFsIiwgInN1Y2tpbmciOiAib3JhbCIsICJ0b25ndWVfam9iIjogIm9yYWwiLCAidG9uZ3Vlam9iIj'
    'ogIm9yYWwiLCAiM3NvbWUiOiAib3JneSIsICI0c29tZSI6ICJvcmd5IiwgIjVzb21lIjogIm9yZ3kiLCAiNnNvbWUiOiAib3JneSIsICJmaXZlc29tZSI6ICJvcmd5IiwgImZv'
    'dXJzb21lIjogIm9yZ3kiLCAiZ3JvdXBfc2V4IjogIm9yZ3kiLCAic2l4c29tZSI6ICJvcmd5IiwgInRocmVlc29tZSI6ICJvcmd5IiwgInBlcnNvbmFfM19wb3J0YWJsZSI6IC'
    'JwZXJzb25hXzMiLCAicGVyc29uYV80X2FyZW5hIjogInBlcnNvbmFfNCIsICJwZXJzb25hXzRfdGhlX2dvbGRlbiI6ICJwZXJzb25hXzQiLCAicGVyc29uYV81X3JveWFsIjog'
    'InBlcnNvbmFfNSIsICJwZXRnaXJ0bCI6ICJwZXRfZ2lybCIsICJhc3Npc3RlZF9wZWUiOiAicGlzc2luZyIsICJkcmlua2luZ19wZWUiOiAicGlzc2luZyIsICJtb3V0aF9wZW'
    'UiOiAicGlzc2luZyIsICJwYW50eV9wZWUiOiAicGlzc2luZyIsICJwZWVpbmciOiAicGlzc2luZyIsICJzaXR0aW5nX3BlZSI6ICJwaXNzaW5nIiwgInN0YW5kaW5nX3BlZSI6'
    'ICJwaXNzaW5nIiwgInVyaW5hdGluZyI6ICJwaXNzaW5nIiwgInVyaW5hdGlvbiI6ICJwaXNzaW5nIiwgInVyaW5lX2luX2FzcyI6ICJwaXNzaW5nIiwgInVyaW5lX2luX21vdX'
    'RoIjogInBpc3NpbmciLCAidXJpbmVfcG9vbCI6ICJwaXNzaW5nIiwgInVyaW5lX3N0cmVhbSI6ICJwaXNzaW5nIiwgImRpZ2ltb24iOiAicG9rZW1vbiIsICJlc3Blb24iOiAi'
    'cG9rZW1vbiIsICJmbGFyZW9uIjogInBva2Vtb24iLCAiZ2FyZGV2b2lyIjogInBva2Vtb24iLCAiZ2xhY2VvbiI6ICJwb2tlbW9uIiwgImpvbHRlb24iOiAicG9rZW1vbiIsIC'
    'Jsb3B1bm55IjogInBva2Vtb24iLCAicG9rZV9iYWxsIjogInBva2Vtb24iLCAicG9rZWJhbGwiOiAicG9rZW1vbiIsICJwb2tlbW9uX2J3IjogInBva2Vtb24iLCAicG9rZW1v'
    'bl9idzIiOiAicG9rZW1vbiIsICJwb2tlbW9uX2RwcHQiOiAicG9rZW1vbiIsICJwb2tlbW9uX2ZvY3VzIjogInBva2Vtb24iLCAicG9rZW1vbl9nbyI6ICJwb2tlbW9uIiwgIn'
    'Bva2Vtb25fZ3NjIjogInBva2Vtb24iLCAicG9rZW1vbl9oZ3NzIjogInBva2Vtb24iLCAicG9rZW1vbl9tYXN0ZXJzIjogInBva2Vtb24iLCAicG9rZW1vbl9vbmx5IjogInBv'
    'a2Vtb24iLCAicG9rZW1vbl9vcmFzIjogInBva2Vtb24iLCAicG9rZW1vbl9yZ2J5IjogInBva2Vtb24iLCAicG9rZW1vbl9yc2UiOiAicG9rZW1vbiIsICJwb2tlbW9uX3NtIj'
    'ogInBva2Vtb24iLCAicG9rZW1vbl9zcyI6ICJwb2tlbW9uIiwgInBva2Vtb25fc3YiOiAicG9rZW1vbiIsICJwb2tlbW9uX3h5IjogInBva2Vtb24iLCAicG9rZW1vcnBoIjog'
    'InBva2Vtb24iLCAicG9rZXBoaWxpYSI6ICJwb2tlbW9uIiwgInBva8OpbW9uIjogInBva2Vtb24iLCAicG9rw6lwaGlsaWEiOiAicG9rZW1vbiIsICJyZW5hbW9uIjogInBva2'
    'Vtb24iLCAic25lYXNsZXIiOiAicG9rZW1vbiIsICJzeWx2ZW9uIjogInBva2Vtb24iLCAidW1icmVvbiI6ICJwb2tlbW9uIiwgInZhcG9yZW9uIjogInBva2Vtb24iLCAicG9u'
    'eWdpcmwiOiAicG9ueV9naXJsIiwgInBvbnlfcGxheSI6ICJwb255cGxheSIsICJwcmVnbmFuY3kiOiAicHJlZ25hbnQiLCAiYnVubnkiOiAicmFiYml0IiwgImxlcG9yaWQiOi'
    'AicmFiYml0IiwgInJhYmJpdF9naXJsIjogInJhYmJpdF9naXJsIiwgInJhYmJpdGdpcmwiOiAicmFiYml0X2dpcmwiLCAicmF0Z2lybCI6ICJyYXRfZ2lybCIsICJyb2JvdGdp'
    'cmwiOiAicm9ib3RfZ2lybCIsICJydWxlNjMiOiAicnVsZV82MyIsICJjb3Byb3BoYWdpYSI6ICJzY2F0IiwgImV4Y2Vzc2l2ZV9zY2F0IjogInNjYXQiLCAiZmVjZXMiOiAic2'
    'NhdCIsICJwb29wIjogInNjYXQiLCAicG9vcGluZyI6ICJzY2F0IiwgInNjYXRfZWF0aW5nIjogInNjYXQiLCAic2NhdF9waWxlIjogInNjYXQiLCAic2hpdCI6ICJzY2F0Iiwg'
    'InNoaXR0aW5nIjogInNjYXQiLCAic2hhZG93X2VsZiI6ICJzaGFkb3dfZWxmIiwgInNoYXJrX2dpcmwiOiAic2hhcmtfZ2lybCIsICJzaGFya2dpcmwiOiAic2hhcmtfZ2lybC'
    'IsICJlbnNsYXZlZCI6ICJzbGF2ZSIsICJlbnNsYXZlZF9yb3lhbCI6ICJzbGF2ZSIsICJzbGF2ZV9ib3kiOiAic2xhdmUiLCAic2xhdmVib3kiOiAic2xhdmUiLCAic2xhdmVn'
    'aXJsIjogInNsYXZlIiwgInNsYXZlcyI6ICJzbGF2ZSIsICJ0YW1lZCI6ICJzbGF2ZSIsICJnb28iOiAic2xpbWUiLCAiZ29vX2JveSI6ICJzbGltZSIsICJnb29fY3JlYXR1cm'
    'UiOiAic2xpbWUiLCAiZ29vX2hhaXIiOiAic2xpbWUiLCAiZ29vX2h1bWFub2lkIjogInNsaW1lIiwgImdvb19tb25zdGVyIjogInNsaW1lIiwgImdvb190ZW50YWNsZSI6ICJz'
    'bGltZSIsICJnb29fdGVudGFjbGVzIjogInNsaW1lIiwgImdvb190cmFuc2Zvcm1hdGlvbiI6ICJzbGltZSIsICJnb29leSI6ICJzbGltZSIsICJzbGltZV9ib3kiOiAic2xpbW'
    'UiLCAic2xpbWVfaGFpciI6ICJzbGltZSIsICJzbGltZV9tb25zdGVyIjogInNsaW1lIiwgInNsaW1lYm95IjogInNsaW1lIiwgInNsaW15IjogInNsaW1lIiwgImhlYWxfc2x1'
    'dCI6ICJzbHV0IiwgImhlYWxzbHV0IjogInNsdXQiLCAic2x1dF9iZWx0IjogInNsdXQiLCAic2x1dF9jYXAiOiAic2x1dCIsICJzbHV0X2NvbGxhciI6ICJzbHV0IiwgInNsdX'
    'Rfa2l0dHkiOiAic2x1dCIsICJzbHV0X293bmVyIjogInNsdXQiLCAic2x1dF9wcmludCI6ICJzbHV0IiwgIndlbmNoIjogInNsdXQiLCAid2hvcmUiOiAic2x1dCIsICJjb2Jy'
    'YSI6ICJzbmFrZSIsICJweXRob24iOiAic25ha2UiLCAic3F1aXJ0aW5nIjogInNxdWlydCIsICJvZG9yIjogInN0aW5rIiwgInNtZWxseSI6ICJzdGluayIsICJzbWVsbHlfYX'
    'NzIjogInN0aW5rIiwgInNtZWxseV9jb2NrIjogInN0aW5rIiwgInNtZWxseV9mZWV0IjogInN0aW5rIiwgInN0aW5rX2xpbmVzIjogInN0aW5rIiwgInN0aW5reSI6ICJzdGlu'
    'ayIsICJzdGlua3lfZmVldCI6ICJzdGluayIsICJoZXRlcm8iOiAic3RyYWlnaHQiLCAiaGV0ZXJvX3NleCI6ICJzdHJhaWdodCIsICJoZXRlcm9zZXh1YWwiOiAic3RyYWlnaH'
    'QiLCAicmVjZWl2aW5nX3BvdiI6ICJ0YWtlcl9wb3YiLCAic3VibWlzc2l2ZV9wb3YiOiAidGFrZXJfcG92IiwgImZveF90YXVyIjogInRhdXIiLCAiZm94dGF1ciI6ICJ0YXVy'
    'IiwgIndvbGZfdGF1ciI6ICJ0YXVyIiwgIndvbGZ0YXVyIjogInRhdXIiLCAidGVra2VuXzVfZGFya19yZXN1cnJlY3Rpb24iOiAidGVra24iLCAidGVra2VuX3RhZ190b3Vybm'
    'FtZW50IjogInRla2tuIiwgInRla2tlbl90YWdfdG91cm5hbWVudF8yIjogInRla2tuIiwgInRlbnRhY2xlX19pbl9tb3V0aCI6ICJ0ZW50YWNsZSIsICJ0ZW50YWNsZV9mZWxs'
    'YXRpbyI6ICJ0ZW50YWNsZSIsICJ0ZW50YWNsZV9ncmFiIjogInRlbnRhY2xlIiwgInRlbnRhY2xlX2hhaXIiOiAidGVudGFjbGUiLCAidGVudGFjbGVfaW5fYW51cyI6ICJ0ZW'
    '50YWNsZSIsICJ0ZW50YWNsZV9pbl9hc3MiOiAidGVudGFjbGUiLCAidGVudGFjbGVfaW5fcHVzc3kiOiAidGVudGFjbGUiLCAidGVudGFjbGVfbW9uc3RlciI6ICJ0ZW50YWNs'
    'ZSIsICJ0ZW50YWNsZV9vbl9mZW1hbGUiOiAidGVudGFjbGUiLCAidGVudGFjbGVfb25fZnV0YSI6ICJ0ZW50YWNsZSIsICJ0ZW50YWNsZV9vbl9tYWxlIjogInRlbnRhY2xlIi'
    'wgInRlbnRhY2xlX3BlbmV0cmF0aW9uIjogInRlbnRhY2xlIiwgInRlbnRhY2xlX3BpdCI6ICJ0ZW50YWNsZSIsICJ0ZW50YWNsZV9yYXBlIjogInRlbnRhY2xlIiwgInRlbnRh'
    'Y2xlX3NleCI6ICJ0ZW50YWNsZSIsICJ0ZW50YWNsZWpvYiI6ICJ0ZW50YWNsZSIsICJ0ZW50YWNsZXNfb25fZmVtYWxlIjogInRlbnRhY2xlIiwgInRlbnRhY2xlc19vbl9mdX'
    'RhIjogInRlbnRhY2xlIiwgInRlbnRhY2xlc19vbl9tYWxlIjogInRlbnRhY2xlIiwgInRpZWRfYXJtcyI6ICJ0aWVkX3VwIiwgInRpZWRfYmFsbHMiOiAidGllZF91cCIsICJ0'
    'aWVkX2Rvd24iOiAidGllZF91cCIsICJ0aWVkX2ZlZXQiOiAidGllZF91cCIsICJ0aWVkX2hhaXIiOiAidGllZF91cCIsICJ0aWVkX2hhbmRzIjogInRpZWRfdXAiLCAidGllZF'
    '9sZWdzIjogInRpZWRfdXAiLCAidGllZF9wZW5pcyI6ICJ0aWVkX3VwIiwgInRpZWRfdG9lcyI6ICJ0aWVkX3VwIiwgInRvcnR1cmVfY2hhbWJlciI6ICJ0b3J0dXJlIiwgInRv'
    'cnR1cmVfZGV2aWNlIjogInRvcnR1cmUiLCAidG9ydHVyZV9yYWNrIjogInRvcnR1cmUiLCAidG9ydHVyZWQiOiAidG9ydHVyZSIsICJ0b3J0dXJlciI6ICJ0b3J0dXJlIiwgIn'
    'RvcnR1cmVzIjogInRvcnR1cmUiLCAidG9ydHVyaW5nIjogInRvcnR1cmUiLCAiYW1iaWd1b3VzX2dlbmRlciI6ICJ0cmFucyIsICJjcm9zc2dlbmRlciI6ICJ0cmFucyIsICJn'
    'ZW5kZXJfYmVuZGVyIjogInRyYW5zIiwgImdlbmRlcl90cmFuc29mcm1hdGlvbiI6ICJ0cmFucyIsICJnZW5kZXJiZW5kIjogInRyYW5zIiwgImdlbmRlcmJlbmRlciI6ICJ0cm'
    'FucyIsICJnZW5kZXJiZW50IjogInRyYW5zIiwgImdlbmRlcnN3YXAiOiAidHJhbnMiLCAibWFsZV9oZXJtIjogInRyYW5zIiwgIm1hbGVoZXJtIjogInRyYW5zIiwgIm1hbl9i'
    'b29icyI6ICJ0cmFucyIsICJtYW5fdGl0cyI6ICJ0cmFucyIsICJtYW5ib29icyI6ICJ0cmFucyIsICJtdGFfY3Jvc3NnZW5kZXIiOiAidHJhbnMiLCAibXRhX3RyYW5zZm9ybW'
    'F0aW9uIjogInRyYW5zIiwgIm10ZiI6ICJ0cmFucyIsICJtdGZfY3Jvc3NnZW5kZXIiOiAidHJhbnMiLCAibXRmX3RyYW5zZm9ybWF0aW9uIjogInRyYW5zIiwgIm10Z19jcm9z'
    'c2dlbmRlciI6ICJ0cmFucyIsICJtdGdfdHJhbnNmb3JtYXRpb24iOiAidHJhbnMiLCAibXRoX2Nyb3NzZ2VuZGVyIjogInRyYW5zIiwgIm10aF90cmFuc2Zvcm1hdGlvbiI6IC'
    'J0cmFucyIsICJtdGlfY3Jvc3NnZW5kZXIiOiAidHJhbnMiLCAibXRpX3RyYW5zZm9ybWF0aW9uIjogInRyYW5zIiwgInR1YmVfZmVlZGluZyI6ICJ0dWJlIiwgInR1YmVfZ2Fn'
    'IjogInR1YmUiLCAidHViZV9pbl9hc3MiOiAidHViZSIsICJ0dWJlX2luX21vdXRoIjogInR1YmUiLCAidHViZXMiOiAidHViZSIsICJ1Z2x5X2Jhc3RhcmQiOiAidWdseSIsIC'
    'J1Z2x5X2ZlbWFsZSI6ICJ1Z2x5IiwgInVnbHlfZnV0YSI6ICJ1Z2x5IiwgInVnbHlfbWFsZSI6ICJ1Z2x5IiwgInVnbHlfbWFuIjogInVnbHkiLCAidXJldGhyYWwiOiAidXJl'
    'dGhyYSIsICJ1cmV0aHJhbF9iZWFkcyI6ICJ1cmV0aHJhIiwgInVyZXRocmFsX2J1bGdlIjogInVyZXRocmEiLCAidXJldGhyYWxfZmluZ2VyaW5nIjogInVyZXRocmEiLCAidX'
    'JldGhyYWxfZmlzdGluIjogInVyZXRocmEiLCAidXJldGhyYWxfaW5zZXJ0aW9uIjogInVyZXRocmEiLCAidXJldGhyYWxfbGlja2luZyI6ICJ1cmV0aHJhIiwgInVyZXRocmFs'
    'X292aXBvc2l0aW9uIjogInVyZXRocmEiLCAidXJldGhyYWxfcGVuZXRyYXRpb24iOiAidXJldGhyYSIsICJ1cmV0aHJhbF9wbHVnIjogInVyZXRocmEiLCAidXJldGhyYWxfc2'
    'V4IjogInVyZXRocmEiLCAidmlvbGF0ZWQiOiAidmlvbGVuY2UiLCAidmlvbGF0aW9uIjogInZpb2xlbmNlIiwgInZpb2xlbnQiOiAidmlvbGVuY2UiLCAiYW5hbF92b3JlIjog'
    'InZvcmUiLCAiY29ja192b3JlIjogInZvcmUiLCAiZGV2b3VyZWQiOiAidm9yZSIsICJkZXZvdXJpbmciOiAidm9yZSIsICJkaWdlc3Rpb24iOiAidm9yZSIsICJtYXNzX3Zvcm'
    'UiOiAidm9yZSIsICJvcmFsX3ZvcmUiOiAidm9yZSIsICJwbGFudF92b3JlIjogInZvcmUiLCAicG9zdF92b3JlIjogInZvcmUiLCAic29mdF92b3JlIjogInZvcmUiLCAidm9y'
    'ZV9zZXgiOiAidm9yZSIsICJ3YXJoYW1tZXJfNDAwMDAiOiAid2FyaGFtbWVyIiwgIndhcmhhbW1lcl80MGsiOiAid2FyaGFtbWVyIiwgIndvbGZnaXJsIjogIndvbGZfZ2lybC'
    'IsICJ3b3ciOiAid29ybGRfb2Zfd2FyY3JhZnQiLCAieHJheV92aWV3IjogInhyYXkiLCAiemVicm9pZCI6ICJ6ZWJyYSIsICJ6b21iaWVfZnV0YSI6ICJ6b21iaWUiLCAiem9t'
    'YmllcyI6ICJ6b21iaWUifQ=='
)
TAG_ALIASES = loads(b64decode(TAG_ALIASES_STR))  # type: Dict[str, str]

__UPDATE_TAG_ALIASES__ = False
if __UPDATE_TAG_ALIASES__:
    from base64 import b64encode
    [TAG_ALIASES.pop(k) for k in []]
    TAG_ALIASES.update({
    })
    TAG_ALIASES = {
        k: v
        for k, v in
        sorted(sorted(TAG_ALIASES.items(), key=lambda item: item[0]), key=lambda item: item[1])
    }  # type: Dict[str, str]
    TAG_ALIASES_STR = b64encode(str(TAG_ALIASES).replace('\'', '"').encode()).decode()


def append_filtered_tags(add_string: str, tags_str: str, re_tags_to_process: Pattern, re_tags_to_exclude: Pattern) -> str:
    if len(tags_str) == 0:
        return add_string

    tags_list = tags_str.split(' ')
    tags_toadd_list = []  # type: List[str]

    for tag in tags_list:
        tag = tag.replace('-', '').replace('\'', '')
        if TAG_ALIASES.get(tag) is None and re_fullmatch(re_tags_to_process, tag) is None:
            continue

        # digital_media_(artwork)
        aser_match = re_fullmatch(r'^([^(]+)\(([^)]+)\).*$', tag)
        aser_valid = False
        if aser_match:
            major_skip_match1 = re_fullmatch(re_tags_exclude_major1, aser_match.group(1))
            major_skip_match2 = re_fullmatch(re_tags_exclude_major2, aser_match.group(2))
            if major_skip_match1 or major_skip_match2:
                continue
            stag = trim_undersores(aser_match.group(1))
            if len(stag) >= 14:
                continue
            tag = stag
            aser_valid = True

        tag = trim_undersores(tag)
        alias = TAG_ALIASES.get(tag)
        if alias:
            tag = alias

        if re_fullmatch(re_tags_to_exclude, tag):
            continue

        do_add = True
        if len(tags_toadd_list) > 0:
            nutag = re_sub(r'[^a-z]+', '', re_sub(re_numbered_or_counted_tag, r'\1', tag))
            # try and see
            # 1) if this tag can be consumed by existing tags
            # 2) if this tag can consume existing tags
            for i in reversed(range(len(tags_toadd_list))):
                t = re_sub(re_numbered_or_counted_tag, r'\1', tags_toadd_list[i].lower())
                nut = re_sub(r'[^a-z]+', '', t)
                if len(nut) >= len(nutag) and (nutag in nut):
                    do_add = False
                    break
            if do_add:
                for i in reversed(range(len(tags_toadd_list))):
                    t = re_sub(re_numbered_or_counted_tag, r'\1', tags_toadd_list[i].lower())
                    nut = re_sub(r'[^a-z]+', '', t)
                    if len(nutag) >= len(nut) and (nut in nutag):
                        if aser_valid is False and tags_toadd_list[i][0].isupper():
                            aser_valid = True
                        del tags_toadd_list[i]
        if do_add:
            if aser_valid:
                for i, c in enumerate(tag):  # type: int, str
                    if (i == 0 or tag[i - 1] == UNDERSCORE) and c.isalpha():
                        tag = f'{tag[:i]}{c.upper()}{tag[i + 1:]}'
            tags_toadd_list.append(tag)

    return f'{add_string}{UNDERSCORE}{re_sub(re_replace_symbols, UNDERSCORE, UNDERSCORE.join(sorted(tags_toadd_list)))}'

#
#
#########################################
